!function(o,e,i){"use strict";e.slickColorbox=e.slickColorbox||{};var t,l=o(i);e.behaviors.slickColorbox={attach:function(t,a){if(o.isFunction(o.colorbox)){if(a.colorbox.mobiledetect&&i.matchMedia){var s=a.colorbox.mobiledevicewidth,c=i.matchMedia("(max-device-width: "+s+")");if(c.matches)return}o(".slick__colorbox",t).once("slick-colorbox",function(){var i,l=o(this),s=l.closest(".slick").attr("id"),c=o("body"),n=l.data("media")||{},r=l.closest(".slick__slider","#"+s+".slick"),d=r.length,x="image"!==n.type?!0:!1,b={title:function(){var o=l.siblings(".litebox-caption");return o.length?o.html():""},iframe:x,rel:n.rel||null,onOpen:function(){c.addClass("colorbox-on colorbox-on--"+n.type),c.data("mediaHeight",""),c.data("mediaWidth",""),d&&r.slick("slickPause")},onLoad:function(){if(e.slickColorbox.removeClasses(),x?(c.data("mediaHeight",n.height),c.data("mediaWidth",n.width),c.addClass("colorbox-on--media")):c.removeClass("colorbox-on--media"),c.addClass("colorbox-on colorbox-on--"+n.type),d){if(i=parseInt(l.closest(".slick__slide:not(.slick-cloned)").data("slickIndex")),r.parent().next(".slick").length){var o=r.parent().next(".slick").find(".slick__slider");o.slick("slickGoTo",i)}r.slick("slickGoTo",i)}},onCleanup:function(){e.slickColorbox.removeClasses()},onComplete:function(){"image"!==n.type&&e.slickColorbox.resize(t,e.settings),o("#cboxPrevious, #cboxNext",t).removeClass("element-invisible")},onClosed:function(){e.slickColorbox.jumpScroll("#"+s,120),e.slickColorbox.removeClasses(),c.data("mediaHeight",""),c.data("mediaWidth","")}};l.colorbox(o.extend({},a.colorbox,b))}),l.bind("resize",function(){e.slickColorbox.resize(t,e.settings)}),o(t).bind("cbox_complete",function(){e.attachBehaviors("#cboxLoadedContent")})}}},e.slickColorbox.removeClasses=function(){o("body").removeClass(function(o,e){return(e.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")})},e.slickColorbox.jumpScroll=function(e,i){o(e).length&&o("html, body").stop().animate({scrollTop:o(e).offset().top-i},800)},e.slickColorbox.resize=function(e,l){t&&i.clearTimeout(t);var a=o("body").data("mediaWidth")||l.colorbox.maxWidth,s=o("body").data("mediaHeight")||l.colorbox.maxHeight,c={width:l.colorbox.maxWidth||"98%",height:l.colorbox.maxHeight||"98%",maxWidth:a.indexOf("px")>0?parseInt(a):a,maxHeight:s.indexOf("px")>0?parseInt(s):s};t=i.setTimeout(function(){if(o("#cboxOverlay").is(":visible")){var e=o("#cboxLoadedContent");o(".cboxIframe").length?(e.addClass("media"),o(".cboxIframe",e).attr("width",c.maxWidth).attr("height",c.maxHeight)):e.removeClass("media"),o.colorbox.resize({innerWidth:c.maxWidth,innerHeight:c.maxHeight})}},0)}}(jQuery,Drupal,this);
