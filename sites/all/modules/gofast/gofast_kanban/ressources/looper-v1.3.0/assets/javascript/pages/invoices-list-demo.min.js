"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,a,n){return a&&_defineProperties(e.prototype,a),n&&_defineProperties(e,n),e}var InvoicesListDemo=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){this.table=this.table(),this.searchRecords(),this.selecter(),this.clearSelected()}},{key:"table",value:function(){return $.fn.dataTable.moment("DD/MM/YYYY"),$("#invoicesTable").DataTable({dom:"<'table-responsive'tr>\n        <'mt-4'p>",language:{paginate:{previous:'<i class="fa fa-lg fa-angle-left"></i>',next:'<i class="fa fa-lg fa-angle-right"></i>'}},autoWidth:!1,ajax:"assets/data/invoices-list.json",deferRender:!0,order:[3,"dec"],columns:[{data:"number",className:"col-checker align-middle",orderable:!1,searchable:!1},{data:"number",className:"align-middle"},{data:"client",className:"align-middle"},{data:"duedate",className:"align-middle"},{data:"status",className:"align-middle"},{data:"amount",className:"align-middle"},{data:"paid",className:"align-middle"},{data:"balance",className:"align-middle"},{data:"actions",className:"align-middle text-right",orderable:!1,searchable:!1}],columnDefs:[{targets:0,render:function(e,a,n,t){return'<div class="custom-control custom-control-nolabel custom-checkbox">\n            <input type="checkbox" class="custom-control-input" name="selectedRow[]" id="p'.concat(n.number,'" value="').concat(n.number,'">\n            <label class="custom-control-label" for="p').concat(n.number,'"></label>\n          </div>')}},{targets:1,render:function(e,a,n,t){return'<a href="page-invoice.html">'.concat(n.number,"</a>")}},{targets:4,render:function(e,a,n,t){return'<span class="badge badge-subtle badge-'.concat(n.context,'">').concat(n.status,"</span>")}},{targets:5,render:function(e,a,n,t){return'<div class="text-muted">'.concat(n.amount,"</div>")}},{targets:6,render:function(e,a,n,t){return'<div class="text-muted">'.concat(n.paid,"</div>")}},{targets:8,render:function(e,a,n,t){return'<div class="dropdown">\n            <button type="button" class="btn btn-secondary btn-icon btn-sm" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              <i class="fas fa-ellipsis-h"></i>\n            </button>\n            <div class="dropdown-menu dropdown-menu-right">\n              <div class="dropdown-arrow mr-n1"></div>\n              <a href="#!'.concat(n.number,'" class="dropdown-item">View</a>\n              <a href="#!').concat(n.number,'" class="dropdown-item">Edit</a>\n              <a href="#!').concat(n.number,'" class="dropdown-item">Send reminder</a>\n              <div class="dropdown-divider"></div>\n              <a href="#!').concat(n.number,'" class="dropdown-item">Download pdf</a>\n              <a href="#!').concat(n.number,'" class="dropdown-item">Share to...</a>\n              <div class="dropdown-divider"></div>\n              <a href="#!').concat(n.number,'" class="dropdown-item">Delete</a>\n            </div>\n          </div>')}}]})}},{key:"searchRecords",value:function(){var t=this;$("#table-search, #filterBy").on("keyup change focus",function(e){var a=$("#filterBy").val(),n=""!==a;t.table.column(4).search("").draw(),n?t.table.column(4).search(a).draw():t.table.draw()})}},{key:"getSelectedInfo",value:function(){var e=$('input[name="selectedRow[]"]:checked').length,a=$(".thead-btn"),n=$("<span/>").addClass("selected-row-info text-muted pl-1").text("".concat(e," selected"));$(".selected-row-info").remove(),e&&a.prepend(n)}},{key:"selecter",value:function(){var t=this;$(document).on("change","#check-handle",function(){var e=$(this).prop("checked");$('input[name="selectedRow[]"]').prop("checked",e),t.getSelectedInfo()}).on("change",'input[name="selectedRow[]"]',function(){var e=$('input[name="selectedRow[]"]'),a=$('input[name="selectedRow[]"]:checked').length,n=a===e.length?"checked":"indeterminate";$("#check-handle").prop("indeterminate",!1).prop("checked",!1),a&&$("#check-handle").prop(n,!0),t.getSelectedInfo()})}},{key:"clearSelected",value:function(){var e=this;$("#invoicesTable").on("page.dt",function(){e.clearSelectedRows()}),$("#clear-search").on("click",function(){e.clearSelectedRows()})}},{key:"clearSelectedRows",value:function(){$("#check-handle").prop("indeterminate",!1).prop("checked",!1).trigger("change")}}]),e}();$(document).on("theme:init",function(){new InvoicesListDemo});
//# sourceMappingURL=../../sourcemaps/pages/invoices-list-demo.min.js.map
