"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var AdvanceDataTablesDemo=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){this.table=this.table(),this.globalSearch(),this.columnSearch(),this.selecter(),this.clearSelected(),this.addFilterRow(),this.removeFilterRow(),this.clearFilter(),this.table.buttons().container().appendTo("#dt-buttons").unwrap()}},{key:"table",value:function(){return $("#myTable").DataTable({dom:"<'text-muted'Bi>\n        <'table-responsive'tr>\n        <'mt-4'p>",buttons:["copyHtml5",{extend:"print",autoPrint:!1}],language:{paginate:{previous:'<i class="fa fa-lg fa-angle-left"></i>',next:'<i class="fa fa-lg fa-angle-right"></i>'}},autoWidth:!1,ajax:"assets/data/products.json",deferRender:!0,order:[1,"asc"],columns:[{data:"id",className:"col-checker align-middle",orderable:!1,searchable:!1},{data:{_:"name",sort:"name",search:"name"},className:"align-middle"},{data:"inventory",className:"align-middle"},{data:"variant",className:"align-middle"},{data:"prices",className:"align-middle"},{data:"sales",className:"align-middle"},{data:"id",className:"align-middle text-right",orderable:!1,searchable:!1}],columnDefs:[{targets:0,render:function(e,t,a,n){return'<div class="custom-control custom-control-nolabel custom-checkbox">\n            <input type="checkbox" class="custom-control-input" name="selectedRow[]" id="p'.concat(a.id,'" value="').concat(a.id,'">\n            <label class="custom-control-label" for="p').concat(a.id,'"></label>\n          </div>')}},{targets:1,render:function(e,t,a,n){return'<a href="#'.concat(a.id,'" class="tile tile-img mr-1">\n            <img class="img-fluid" src="assets/images/dummy/img-').concat(a.img,'.jpg" alt="Card image cap">\n          </a>\n          <a href="#').concat(a.id,'">').concat(a.name,"</a>")}},{targets:6,render:function(e,t,a,n){return'<a class="btn btn-sm btn-icon btn-secondary" href="#'.concat(e,'"><i class="fa fa-pencil-alt"></i></a>\n          <a class="btn btn-sm btn-icon btn-secondary" href="#').concat(e,'"><i class="far fa-trash-alt"></i></a>')}}]})}},{key:"globalSearch",value:function(){var a=this;$("#table-search").on("keyup focus",function(e){var t=$("#table-search").val();t.length&&"keyup"===e.type&&a.clearSelectedRows(),a.table.search(t).draw()})}},{key:"columnSearch",value:function(){var o=this;$(document).on("keyup change",".filter-control",function(e){var t=$(this).parents(".form-row"),a=t.find(".filter-column").val(),l=t.find(".filter-value").val(),n=""===l?"contain":t.find(".filter-operator").val(),c=l,i="";if("notcontain"===n)c="^((?!"+l+").)*$";else if("equal"===n)c="^"+l+"$";else if("notequal"===n)c="^(?!"+l+").*$";else if("beginwith"===n)c="^("+l+"| "+l+").*";else if("endwith"===n)c=".*"+l+"$";else if("greaterthan"===n){var r=l.split("");$.each(r,function(e,t){i+="["+t+"-9]"}),c="^("+i+"|[0-9][0-9]{"+r.length+",})*$"}else"lessthan"===n&&function(){for(var e=l.split(""),n=e.length-1,t=function(a){i+=0<a?"|":"",$.each(e,function(e,t){e<=a&&a===n&&(i+="[0-"+t+"]"),e<=a&&a<n&&(i+="[0-9]")})},a=0;a<e.length;a++)t(a);c="^("+i+")$"}();"change"===e.type&&$(e.target).is("select")&&t.find(".filter-value").val("").trigger("keyup"),o.table.column(a).search(c,!0,!0).draw()})}},{key:"addFilterRow",value:function(){$("#add-filter-row").on("click",function(){var e=$("#filter-columns").children().first().clone();e.find("select").prop("selectedIndex",0),e.find("input").val(""),$("#filter-columns").append(e)})}},{key:"removeFilterRow",value:function(){var t=this;$(document).on("click",".remove-filter-row",function(){var e=$(this).parents(".filter-row");e.find(".filter-value").val("").trigger("keyup"),t.isRemovableRow()&&e.remove()})}},{key:"isRemovableRow",value:function(){return 1<$("#filter-columns").children().length}},{key:"clearFilter",value:function(){var e=this;$(document).on("click","#clear-filter",function(){$("#modalFilterColumns").modal("hide"),$("#filter-columns").find("select").prop("selectedIndex",0),$("#filter-columns").find("input").val(""),e.table.columns().search("").draw()})}},{key:"selecter",value:function(){var n=this;$(document).on("change","#check-handle",function(){var e=$(this).prop("checked");$('input[name="selectedRow[]"]').prop("checked",e),n.getSelectedInfo()}).on("change",'input[name="selectedRow[]"]',function(){var e=$('input[name="selectedRow[]"]'),t=$('input[name="selectedRow[]"]:checked').length,a=t===e.length?"checked":"indeterminate";$("#check-handle").prop("indeterminate",!1).prop("checked",!1),t&&$("#check-handle").prop(a,!0),n.getSelectedInfo()})}},{key:"clearSelected",value:function(){var e=this;$("#myTable").on("page.dt",function(){e.clearSelectedRows()}),$("#clear-search").on("click",function(){e.clearSelectedRows()})}},{key:"getSelectedInfo",value:function(){var e=$('input[name="selectedRow[]"]:checked').length,t=$(".thead-btn"),a=$("<span/>").addClass("selected-row-info text-muted pl-1").text("".concat(e," selected"));$(".selected-row-info").remove(),e&&t.prepend(a)}},{key:"clearSelectedRows",value:function(){$("#check-handle").prop("indeterminate",!1).prop("checked",!1).trigger("change")}}]),e}();$(document).on("theme:init",function(){new AdvanceDataTablesDemo});
//# sourceMappingURL=../../sourcemaps/pages/datatables-filters-demo.min.js.map
